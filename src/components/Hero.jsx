// import React from 'react';
// import './Hero.css';
// import Candle from './Candle';
// const Hero = () => {
//   return (
//     <div className="hero-container">
//  <div className="candles">
//       <Candle left="45%" />
//       <Candle left="50%" />
//       <Candle left="55%" />
//     </div>


//       <svg
//         id="cake"
//         version="1.1"
//         x="0px"
//         y="0px"
//         width="200px"
//         height="500px"
//         viewBox="0 0 200 500"
//         enableBackground="new 0 0 200 500"
//         xmlSpace="preserve"
//       >
//    <svg id="cake" version="1.1" x="0px" y="0px" width="200px" height="500px" viewBox="0 0 200 500" enable-background="new 0 0 200 500" xml:space="preserve">
//         <path fill="#a88679" d="M173.667-13.94c-49.298,0-102.782,0-147.334,0c-3.999,0-4-16.002,0-16.002
//         c44.697,0,96.586,0,147.334,0C177.667-29.942,177.668-13.94,173.667-13.94z">
//             <animate id="bizcocho_3" attributeName="d" calcMode="spline" keySplines="0 0 1 1; 0 0 1 1" begin="relleno_2.end" dur="0.3s" fill="freeze" values="
//                               M173.667-13.94c-49.298,0-102.782,0-147.334,0c-3.999,0-4-16.002,0-16.002
//         c44.697,0,96.586,0,147.334,0C177.667-29.942,177.668-13.94,173.667-13.94z
//                               ;
//                               M173.667,411.567c-47.995,12.408-102.955,12.561-147.334,0
//         c-3.848-1.089-0.189-16.089,3.661-15.002c44.836,12.66,90.519,12.753,139.427,0.07
//         C173.293,395.631,177.541,410.566,173.667,411.567z
//                               ;
//                               M173.667,427.569c-49.795,0-101.101,0-147.334,0c-3.999,0-4-16.002,0-16.002
//         c46.385,0,97.539,0,147.334,0C177.668,411.567,177.667,427.569,173.667,427.569z
//                               " />
//         </path>
//         <path fill="#6e5047" d="M100-178.521c1.858,0,3.364,1.506,3.364,3.363c0,0,0,33.17,0,44.227
//         c0,19.144,0,57.431,0,76.574c0,10.152,0,40.607,0,40.607c0,1.858-1.506,3.364-3.364,3.364l0,0c-1.858,0-3.364-1.506-3.364-3.364c0,0,0-30.455,0-40.607c0-19.144,0-57.432,0-76.575c0-11.057,0-44.226,0-44.226C96.636-177.015,98.142-178.521,100-178.521
//         L100-178.521z">
//             <animate id="relleno_2" attributeName="d" calcMode="spline" keySplines="0 0 1 1; 0 0 1 1; 0 0 0.58 1" begin="bizcocho_2.end" dur="0.5s" fill="freeze" values="
//                               M100-178.521c1.858,0,3.364,1.506,3.364,3.363c0,0,0,33.17,0,44.227
//         c0,19.144,0,57.431,0,76.574c0,10.152,0,40.607,0,40.607c0,1.858-1.506,3.364-3.364,3.364l0,0c-1.858,0-3.364-1.506-3.364-3.364c0,0,0-30.455,0-40.607c0-19.144,0-57.432,0-76.575c0-11.057,0-44.226,0-44.226C96.636-177.015,98.142-178.521,100-178.521
//         L100-178.521z
//                               ;
//                               M100,267.257c1.858,0,3.364,1.506,3.364,3.363c0,0,0,33.17,0,44.227
//         c0,19.143,0,57.43,0,76.574c0,10.151,0,40.606,0,40.606c0,1.858-1.506,3.364-3.364,3.364l0,0c-1.858,0-3.364-1.506-3.364-3.364
//         c0,0,0-30.455,0-40.606c0-19.145,0-57.432,0-76.576c0-11.057,0-44.225,0-44.225C96.636,268.763,98.142,267.257,100,267.257
//         L100,267.257z
//                               ;
//                               M93.928,405.433c-0.655,6.444-0.102,9.067,2.957,11.798c0,0,8.083,5.571,16.828,3.503
//         c18.629-4.406,43.813,6.194,50.792,7.791c14.75,3.375,9.162,6.867,9.162,6.867c-2.412,2.258-58.328,0-73.667,0l0,0
//         c-1.858,0-69.995,2.133-73.667,0c0,0-3.337-2.439,6.172-5.992c11.375-4.25,52.875,8.822,47.139-9.442
//         c-6.333-20.167,5.226-21.514,5.226-21.514c3.435-0.915,12.78-6.663,10.923-0.546L93.928,405.433z
//                               ;
//                               M102.242,427.569c5.348,0,14.079,0,17.462,0c0,0,17.026,0,27.504,0
//         c19.143,0,20.39-3.797,26.459,0c3,1.877,0,7.823,0,7.823c-2.412,2.258-58.328,0-73.667,0l0,0c-1.858,0-67.187,0-73.667,0
//         c0,0-4.125-4.983,0-7.823c5.201-3.58,16.085,0,23.725,0c8.841,0,20.762,0,20.762,0c3.686,0,8.597,0,19.511,0H102.242z
//                               " />
//         </path>
//         <path fill="#a88679" d="M173.667-15.929c-46.512,0-105.486,0-147.334,0c-3.999,0-4-16.002,0-16.002
//         c43.566,0,97.96,0,147.334,0C177.667-31.931,177.666-15.929,173.667-15.929z">
//             <animate id="bizcocho_2" attributeName="d" calcMode="spline" keySplines="0 0 1 1; 0 0 1 1; 0.25 0 0.58 1" begin="relleno_1.end" dur="0.5s" fill="freeze" values="
//                               M173.667-15.929c-46.512,0-105.486,0-147.334,0c-3.999,0-4-16.002,0-16.002
//         c43.566,0,97.96,0,147.334,0C177.667-31.931,177.666-15.929,173.667-15.929z
//                               ;
//                               M173.434,445.393c-47.269,8.001-105.245,8.001-147.334,0c-3.929-0.747-0.692-16.543,3.243-15.824
//         c43.828,8.001,92.165,8.001,140.739,0C174.029,428.918,177.377,444.726,173.434,445.393z
//                               ;
//                               M173.667,449.514c-47.576-5.454-102.799-5.744-147.333,0c-3.966,0.512-3.938-15.297,0-16.002
//         c43.683-7.823,97.646-8.026,147.333,0C177.616,434.15,177.642,449.969,173.667,449.514z
//                               ;
//                               M173.667,451.394c-49.298,0-102.782,0-147.334,0c-3.999,0-4-16.002,0-16.002
//         c44.697,0,96.586,0,147.334,0C177.667,435.392,177.668,451.394,173.667,451.394z
//                               " />
//         </path>
//         <path fill="#6e5047" d="M101.368-73.685c0,12.164,0,15.18,0,28.519c0,22.702,0-13.661,0,8.304c0,14.48,0,18.233,0,30.512
//         c0,1.753-2.958,1.847-2.958,0c0-12.68,0-16.277,0-30.401c0-21.983,0,11.66,0-8.305c0-13.027,0-15.992,0-28.628
//         C98.411-75.883,101.368-75.592,101.368-73.685z">
//             <animate id="relleno_1" attributeName="d" calcMode="spline" keySplines="0 0 1 1; 0 0 1 1; 0 0 0.6 1" begin="bizcocho_1.end" dur="0.5s" fill="freeze" values="
//                               M101.368-73.685c0,12.164,0,15.18,0,28.519c0,22.702,0-13.661,0,8.304c0,14.48,0,18.233,0,30.512
//         c0,1.753-2.958,1.847-2.958,0c0-12.68,0-16.277,0-30.401c0-21.983,0,11.66,0-8.305c0-13.027,0-15.992,0-28.628
//         C98.411-75.883,101.368-75.592,101.368-73.685z
//                               ;
//                               M101.368,350.885c0,12.164,0,65.18,0,78.518c0,22.703,0-33.66,0-11.695c0,14.48,0,28.232,0,40.512
//         c0,1.753-2.958,1.847-2.958,0c0-12.68,0-26.277,0-40.402c0-21.982,0,31.66,0,11.695c0-13.027,0-65.992,0-78.627
//         C98.411,348.686,101.368,348.977,101.368,350.885z
//                               ;
//                               M128.38,447.567c37.626,6.312,39.303,13.658,26.833,12.833c-22.653-1.499-13.636-0.831-23.302-0.831
//         c-14.48,0-17.884,0-30.163,0c-2.087,0-2.068,0-3.915,0c-13.333,0-8.963,0-23.088,0c-11.668,0-14.062,5.995-27.532,1.164
//         c-12.629-4.529,38.667-3.167,46.833-17.333C100.077,432.94,105.546,443.736,128.38,447.567z
//                               ;
//                               M173.667,451.394c2.875,0,2.997,9.257,0,9.131c-22.662-0.956-32.09-0.956-41.756-0.956
//         c-14.48,0-17.884,0-30.163,0c-2.087,0-2.068,0-3.915,0c-13.333,0-8.963,0-23.088,0c-11.668,0-34.99-0.294-48.412,1.831
//         c-4.109,0.65-3.01-10.006,0-10.006C37.129,451.394,149.379,451.394,173.667,451.394z
//                               " />
//         </path>
//         <path fill="#a88679" d="M173.667,21.571c-33.174,0-111.467,0-147.334,0c-4,0-4-16.002,0-16.002c39.836,0,105.982,0,147.334,0
//         C177.668,5.569,177.667,21.571,173.667,21.571z">
//             <animate id="bizcocho_1" attributeName="d" calcMode="spline" keySplines="0 0 1 1; 0 0 1 1; 0 0 1 1; 0.25 0 1 1; 0 0 1 1; 0.25 0 0.6 1" begin="2s" dur="0.8s" fill="freeze" values="
//                               M173.667,21.571c-33.174,0-111.467,0-147.334,0c-4,0-4-16.002,0-16.002c39.836,0,105.982,0,147.334,0
//         C177.668,5.569,177.667,21.571,173.667,21.571z
//                               ;
//                               M173.667,459.569c-33.197,16.002-110.782,16.002-147.334,0c-3.664-1.604,1.614-15.617,5.337-14.153
//         c40.702,16.002,94.289,16.104,136.505,0.103C171.917,444.1,177.271,457.832,173.667,459.569z
//                               ;
//                               M171.817,475.571c-39.361-3.001-105.438-2.571-143.556,0c-3.991,0.27-7.377-14.736-3.387-15.014
//         c41.553-2.888,104.421-3.121,150.51-0.233C179.378,460.574,175.806,475.875,171.817,475.571z
//                               ;
//                               M171.817,459.564c-38.8-12.188-104.504-13.762-143.556,0c-3.772,1.329-7.961-12.604-4.178-13.905
//         c40.864-14.064,105.114-15.52,151.918-0.973C179.822,445.874,175.634,460.762,171.817,459.564z
//                               ;
//                               M173.667,475.571c-46.376-5.005-105.924-4.003-147.334,0c-3.981,0.385-3.479-15.421,0.479-16.002
//         c43.087-6.327,97.705-7.083,146.855,0.438C177.621,460.613,177.644,476,173.667,475.571z
//                               ;
//                               M173.667,474.117c-46.376,1.866-105.638,2.01-147.334,0c-3.995-0.192-3.52-16.144,0.479-16.002
//         c43.794,1.55,96.341,1.541,145.723,0C176.532,457.99,177.663,473.956,173.667,474.117z
//                               ;
//                               M173.667,475.571c-46.512,0-105.486,0-147.334,0c-3.999,0-4-16.002,0-16.002c43.566,0,97.96,0,147.334,0
//         C177.667,459.569,177.666,475.571,173.667,475.571z
//                               " />
//         </path>
        
//         <path fill="#3e2a25" d="M104.812,113.216c0,3.119-2.164,5.67-4.812,5.67c-2.646,0-4.812-2.551-4.812-5.67c0-5.594,0-16.782,0-22.375
//       c0-5.143,0-15.427,0-20.568c0-7.333,0-21.998,0-29.33c0-5.523,0-16.569,0-22.092c0-3.295,0-9.885,0-13.181
//       C95.188,2.551,97.353,0,100,0c2.648,0,4.812,2.551,4.812,5.669c0,3.248,0,9.743,0,12.991c0,5.428,0,16.284,0,21.711
//       c0,7.618,0,22.854,0,30.472c0,4.952,0,14.854,0,19.807C104.812,96.292,104.812,107.576,104.812,113.216z">
//             <animate id="crema" attributeName="d" calcMode="spline" keySplines="0 0 1 1; 0 0 1 1; 0 0 1 1; 0.25 0 1 1; 0 0 1 1; 0 0 0.58 1" begin="bizcocho_3.end" dur="2s" fill="freeze" values="
//                               M104.812,113.216c0,3.119-2.164,5.67-4.812,5.67c-2.646,0-4.812-2.551-4.812-5.67c0-5.594,0-16.782,0-22.375
//       c0-5.143,0-15.427,0-20.568c0-7.333,0-21.998,0-29.33c0-5.523,0-16.569,0-22.092c0-3.295,0-9.885,0-13.181
//       C95.188,2.551,97.353,0,100,0c2.648,0,4.812,2.551,4.812,5.669c0,3.248,0,9.743,0,12.991c0,5.428,0,16.284,0,21.711
//       c0,7.618,0,22.854,0,30.472c0,4.952,0,14.854,0,19.807C104.812,96.292,104.812,107.576,104.812,113.216z
//                               ;
//                               M104.812,405.897c0,3.119-2.164,5.67-4.812,5.67c-2.646,0-4.812-2.551-4.812-5.67c0-5.594,0-16.782,0-22.376
//       c0-5.143,0-15.426,0-20.568c0-7.332,0-21.997,0-29.33c0-5.522,0-16.568,0-22.092c0-3.295,0-9.885,0-13.181
//       c0-3.118,2.165-5.669,4.812-5.669c2.648,0,4.812,2.551,4.812,5.669c0,3.247,0,9.743,0,12.991c0,5.428,0,16.283,0,21.711
//       c0,7.618,0,22.854,0,30.473c0,4.951,0,14.854,0,19.807C104.812,388.972,104.812,400.256,104.812,405.897z
//                               ;
//                               M111.873,411.567c-3.119,0-9.226,0-11.874,0c-2.646,0-7.748,0-10.867,0c-7.086,0-12.698,0-18.292,0
//       c-6.592,0-12.871,7.371-19.166,3.008c-10.043-6.961-7.776-10.169,2.991-17.745c12.61-8.873,27.713,1.994,25.919-7.531
//       c-2.589-13.742,11.008-14.513,11.365-17.789c0.441-4.051,4.235-11.107,8.051-8.175c3.113,2.393,1.007,8.008,0,13.159
//       c-1.871,9.569,8.058,2.113,9.494,14.155c2.592,21.732,21.184-0.675,29.309,7.976c5.216,5.553,18.413,5.552,15.426,12.942
//       c-3.131,7.745-15.825-4.369-23.8,2.903C126.261,418.271,118.301,411.567,111.873,411.567z
//                               ;
//                               M111.873,411.567c-3.119,0-9.226,0-11.874,0c-2.646,0-9.734,4.069-12.853,4.069
//       c-7.086,0-10.712-4.069-16.306-4.069c-6.592,0-12.12,6.013-19.166,3.008c-7.053-3.008-7.458,2.026-18.659,1.165
//       c-6.832-0.525-7.522-3.034-7.533-6.265c-0.037-10.336,22.073-2.452,36.613-2.628c10.234-0.124,19.856-1.439,37.905-2.102
//       c16.642-0.61,32.699,1.552,46.009,1.927c12.438,0.351,29.663-8.99,31.532,3.315c0.773,5.093-5.605,3.342-11.211,9.579
//       c-5.093,5.667-7.59-4.605-12.965-3.832c-8.269,1.189-14.962-8.537-22.937-1.265C126.261,418.271,118.301,411.567,111.873,411.567z
//                               ;
//                               M110.946,413.652c-2.904-1.137-8.405-2.748-12.446-0.97c-6.099,2.685-7.273,10.358-13.253,8.242
//       c-7.843-2.775-8.953-5.008-14.546-5.01c-24.653-0.011-4.849,26.507-18.264,26.507c-12.377,0,5.791-33.537-19.422-26.682
//       c-7.703,2.095-9.806-0.942-9.817-4.173c-0.037-10.336,24.357-4.544,38.897-4.72c10.234-0.124,19.856-1.439,37.905-2.102
//       c16.642-0.61,32.699,1.552,46.009,1.927c12.438,0.351,28.973-8.865,31.532,3.315c1.449,6.896,0.318,15.624-3.874,15.624
//       c-7.619,0-1.788-15.192-19.243-7.111c-7.581,3.51-15.963-9.738-26.669,1.066C120.644,426.744,118.381,416.561,110.946,413.652z
//                               ;
//                               M111.547,413.9c-2.969-0.956-8.775-0.949-13.167-0.5c-14.667,1.5-8.325,16.508-14.667,16.666
//       c-6.667,0.166-0.167-13.5-13.013-14.151c-30.471-1.545-5.572,46.651-18.987,46.651c-12.377,0,10.333-50.166-18.667-44.5
//       c-7.835,1.531-9.537-1.417-9.548-4.647c-0.037-10.336,23.675-5.177,38.215-5.353c10.234-0.124,20.618-1.671,38.667-2.333
//       c16.642-0.61,32.023,1.458,45.333,1.833c12.438,0.351,33.819-8.431,33.199,4.001c-0.532,10.666,0.414,26.166-5.245,25.833
//       c-7.606-0.447-2.954-31.5-19.243-18.899c-7.985,6.177-17.658-5.969-27.377,5.732C118.88,434.066,121.38,417.067,111.547,413.9z
//                               ;
//                               M111.547,415.233c-6.667-0.834-9.667,4.667-13.833,3.333c-19.649-6.291-8.158,22.176-14.5,22.334
//       c-6.667,0.166,2.833-18-13.333-22.167c-29.544-7.615-9.667,43.833-20.167,43.833c-10.333,0,8.004-55.006-16.833-39
//       c-7.5,4.833-9.508-3.78-9.299-7.004c0.799-12.329,23.592-7.153,38.132-7.329c10.234-0.124,20.238-1.505,38.287-2.167
//       c16.642-0.61,32.903,1.125,46.213,1.5c12.438,0.351,35.058-5.579,31.863,6.451c-5.532,20.833,1.25,28.216-4.409,27.883
//       c-7.606-0.447-6.058-37.895-20.62-23.333c-10.167,10.166-15.972-0.747-25,12C119.547,443.568,121.798,416.515,111.547,415.233z
//                               " />
//         </path>
//         <rect x="10" y="475.571" fill="#fefae9" width="180" height="4" />
//       </svg>    
//         </svg>

//       <div className="text">
//         <h1>CONGRATULATIONS!</h1>
//       </div>
//     </div>
//   );
// };

// export default Hero;







// import React, { useEffect, useRef, useState } from 'react';
// import './Hero.css';
// import Candle from './Candle';
// import Confetti from 'react-confetti';
// import useSound from 'use-sound';
// import birthdaySong from '../assets/sound/birthday-song.mp3';

// const Hero = () => {
//   const [candlesBlown, setCandlesBlown] = useState(0);
//   const [showConfetti, setShowConfetti] = useState(false);
//   const [showMessage, setShowMessage] = useState('');
//   const [playBirthday] = useSound(birthdaySong);
//   const [voiceActive, setVoiceActive] = useState(false);
//   const [prediction, setPrediction] = useState('');
//   const [userName, setUserName] = useState('');
//   const cakeRef = useRef(null);

//   // AI-powered predictions array
//   const predictions = [
//     "Amazing opportunities are coming your way! üöÄ",
//     "This year will bring unexpected joy! ‚ú®",
//     "Your creativity will reach new heights! üé®",
//     "Great success in career awaits! üíº",
//     "Love and happiness will surround you! ‚ù§Ô∏è",
//     "Health and wealth will be on your side! üåü",
//     "New adventures are waiting for you! üåç",
//     "You'll achieve your biggest dreams! üåà"
//   ];

//   useEffect(() => {
//     // Ask for user's name
//     const name = prompt("What's your name for a personalized wish?") || "Friend";
//     setUserName(name);
    
//     // Start voice detection
//     startVoiceRecognition();
    
//     // Play birthday music
//     playBirthday();
//   }, []);

//   const handleCandleBlow = () => {
//     const newCount = candlesBlown + 1;
//     setCandlesBlown(newCount);
    
//     if (newCount === 3) {
//       setShowConfetti(true);
//       setShowMessage(`Happy Birthday ${userName}! üéâ`);
      
//       // Generate AI prediction
//       const randomPrediction = predictions[Math.floor(Math.random() * predictions.length)];
//       setPrediction(randomPrediction);
      
//       // Speak birthday wish
//       speakMessage(`Happy Birthday ${userName}! May all your wishes come true!`);
      
//       setTimeout(() => {
//         setShowConfetti(false);
//       }, 5000);
//     }
//   };

//   const startVoiceRecognition = () => {
//     if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
//       const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
//       const recognition = new SpeechRecognition();
      
//       recognition.continuous = true;
//       recognition.interimResults = true;
//       recognition.lang = 'en-US';
      
//       recognition.onstart = () => {
//         setVoiceActive(true);
//         console.log("Voice recognition started");
//       };
      
//       recognition.onresult = (event) => {
//         const transcript = event.results[event.results.length - 1][0].transcript;
        
//         // Detect blow commands
//         if (transcript.toLowerCase().includes('blow') || 
//             transcript.toLowerCase().includes('happy birthday')) {
//           handleCandleBlow();
//         }
//       };
      
//       recognition.onerror = (event) => {
//         console.log("Voice recognition error", event.error);
//       };
      
//       recognition.start();
      
//       // Restart recognition every 10 seconds
//       setInterval(() => {
//         recognition.stop();
//         recognition.start();
//       }, 10000);
//     }
//   };

//   const speakMessage = (text) => {
//     if ('speechSynthesis' in window) {
//       const utterance = new SpeechSynthesisUtterance(text);
//       utterance.rate = 1.0;
//       utterance.pitch = 1.0;
//       window.speechSynthesis.speak(utterance);
//     }
//   };

//   const takeSelfieWithCake = () => {
//     if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
//       navigator.mediaDevices.getUserMedia({ video: true })
//         .then((stream) => {
//           const video = document.createElement('video');
//           video.srcObject = stream;
//           video.play();
          
//           setTimeout(() => {
//             const canvas = document.createElement('canvas');
//             canvas.width = video.videoWidth;
//             canvas.height = video.videoHeight;
//             const ctx = canvas.getContext('2d');
//             ctx.drawImage(video, 0, 0);
            
//             // Add cake overlay
//             const cakeImg = new Image();
//             cakeImg.src = 'data:image/svg+xml,' + encodeURIComponent(document.getElementById('cake').outerHTML);
//             cakeImg.onload = () => {
//               ctx.drawImage(cakeImg, canvas.width/2 - 100, canvas.height/2 - 250, 200, 500);
              
//               // Add text
//               ctx.font = '30px Luckiest Guy';
//               ctx.fillStyle = '#FFD700';
//               ctx.textAlign = 'center';
//               ctx.fillText(`Happy Birthday ${userName}!`, canvas.width/2, 50);
              
//               // Save image
//               const link = document.createElement('a');
//               link.download = 'birthday-selfie.png';
//               link.href = canvas.toDataURL();
//               link.click();
//             };
            
//             stream.getTracks().forEach(track => track.stop());
//           }, 1000);
//         });
//     }
//   };

//   const generateAICard = () => {
//     const canvas = document.createElement('canvas');
//     canvas.width = 800;
//     canvas.height = 600;
//     const ctx = canvas.getContext('2d');
    
//     // Gradient background
//     const gradient = ctx.createLinearGradient(0, 0, 800, 600);
//     gradient.addColorStop(0, '#1a1a2e');
//     gradient.addColorStop(1, '#16213e');
//     ctx.fillStyle = gradient;
//     ctx.fillRect(0, 0, 800, 600);
    
//     // Stars
//     for(let i = 0; i < 100; i++) {
//       ctx.fillStyle = 'white';
//       ctx.beginPath();
//       ctx.arc(Math.random() * 800, Math.random() * 600, Math.random() * 2, 0, Math.PI * 2);
//       ctx.fill();
//     }
    
//     // Add cake
//     ctx.drawImage(document.getElementById('cake'), 300, 150);
    
//     // Text
//     ctx.font = 'bold 40px Luckiest Guy';
//     ctx.fillStyle = '#FFD700';
//     ctx.textAlign = 'center';
//     ctx.fillText(`HAPPY BIRTHDAY ${userName.toUpperCase()}!`, 400, 80);
    
//     ctx.font = '25px Arial';
//     ctx.fillStyle = '#ffffff';
//     ctx.fillText(prediction || "Wishing you an amazing year ahead!", 400, 500);
    
//     ctx.font = '20px Arial';
//     ctx.fillStyle = '#FFB6C1';
//     ctx.fillText('Generated with AI Magic ‚ú®', 400, 550);
    
//     // Save card
//     const link = document.createElement('a');
//     link.download = 'ai-birthday-card.png';
//     link.href = canvas.toDataURL();
//     link.click();
//   };

//   return (
//     <div className="hero-container">
//       {showConfetti && <Confetti width={window.innerWidth} height={window.innerHeight} />}
      
//       <div className="ai-controls">
//         <button className="ai-btn" onClick={takeSelfieWithCake}>
//           üéÇ Take Selfie with Cake
//         </button>
//         <button className="ai-btn" onClick={generateAICard}>
//           ü§ñ Generate AI Card
//         </button>
//         <button className="ai-btn" onClick={() => speakMessage(`Happy Birthday ${userName}!`)}>
//           üîä Speak Wish
//         </button>
//       </div>
      
//       <div className="voice-indicator">
//         {voiceActive && (
//           <div className="voice-pulse">
//             <span>üé§ Voice Active - Say "Blow" or "Happy Birthday"</span>
//           </div>
//         )}
//       </div>
      
//       <div className="candles">
//         <Candle left="45%" onBlow={handleCandleBlow} />
//         <Candle left="50%" onBlow={handleCandleBlow} />
//         <Candle left="55%" onBlow={handleCandleBlow} />
//       </div>
      
//       <svg
//         id="cake"
//         ref={cakeRef}
//         version="1.1"
//         x="0px"
//         y="0px"
//         width="200px"
//         height="500px"
//         viewBox="0 0 200 500"
//         enableBackground="new 0 0 200 500"
//         xmlSpace="preserve"
//       >
//         {/* Keep your existing SVG paths here */}
//         {/* ... */}
//       </svg>
      
//       <div className="text">
//         <h1 className="main-title">HAPPY BIRTHDAY, {userName.toUpperCase()}! üéâ</h1>
//         {showMessage && <div className="wish-message">{showMessage}</div>}
//         {prediction && <div className="prediction">üîÆ {prediction}</div>}
//         <div className="candle-counter">
//           üïØÔ∏è {candlesBlown}/3 Candles Blown
//         </div>
//       </div>
      
//       <div className="ai-features">
//         <div className="feature">
//           <span className="emoji">üé§</span>
//           <span>Voice Controlled</span>
//         </div>
//         <div className="feature">
//           <span className="emoji">ü§ñ</span>
//           <span>AI Predictions</span>
//         </div>
//         <div className="feature">
//           <span className="emoji">‚ú®</span>
//           <span>Magic Effects</span>
//         </div>
//       </div>
//     </div>
//   );
// };

// export default Hero;



// import React, { useEffect, useRef, useState } from 'react';
// import './Hero.css';
// import Candle from './Candle';
// import Confetti from 'react-confetti';
// import useSound from 'use-sound';
// import birthdaySong from '../assets/sound/birthday-song.mp3';

// const Hero = () => {
//   const [candlesBlown, setCandlesBlown] = useState(0);
//   const [showConfetti, setShowConfetti] = useState(false);
//   const [showMessage, setShowMessage] = useState('');
//   const [playBirthday] = useSound(birthdaySong);
//   const [voiceActive, setVoiceActive] = useState(false);
//   const [prediction, setPrediction] = useState('');
//   const [userName, setUserName] = useState('');
//   const [sparkles, setSparkles] = useState([]);
//   const [cakeAnimation, setCakeAnimation] = useState('idle');
//   const [wishAnimation, setWishAnimation] = useState(false);
//   const [floatingEmojis, setFloatingEmojis] = useState([]);
//   const [stars, setStars] = useState([]);
  
//   const cakeRef = useRef(null);
//   const audioContextRef = useRef(null);

//   // AI-powered predictions array
//   const predictions = [
//     "Amazing opportunities are coming your way! üöÄ",
//     "This year will bring unexpected joy! ‚ú®",
//     "Your creativity will reach new heights! üé®",
//     "Great success in career awaits! üíº",
//     "Love and happiness will surround you! ‚ù§Ô∏è",
//     "Health and wealth will be on your side! üåü",
//     "New adventures are waiting for you! üåç",
//     "You'll achieve your biggest dreams! üåà"
//   ];

//   useEffect(() => {
//     // Create floating stars background
//     createStars();
    
//     // Create floating emojis
//     const emojis = ['üéâ', 'üéÇ', 'üéÅ', '‚ú®', 'ü•≥', 'üéà', '‚ù§Ô∏è', 'üåü'];
//     setFloatingEmojis(emojis);
    
//     // Ask for user's name with stylish animation
//     setTimeout(() => {
//       const name = prompt("üéÇ What's your name for a magical birthday wish?") || "Special Friend";
//       setUserName(name);
//       startVoiceRecognition();
//       playBirthday();
//       createSparkles(100);
//       setCakeAnimation('appear');
      
//       // Welcome animation
//       setTimeout(() => {
//         setWishAnimation(true);
//         speakMessage(`Welcome ${name}! Let's celebrate your special day!`);
//       }, 1000);
//     }, 500);
    
//     // Create continuous sparkles
//     const sparkleInterval = setInterval(() => {
//       createSparkles(5);
//     }, 3000);
    
//     return () => clearInterval(sparkleInterval);
//   }, []);

//   const createStars = () => {
//     const starsArray = [];
//     for (let i = 0; i < 50; i++) {
//       starsArray.push({
//         id: i,
//         x: Math.random() * 100,
//         y: Math.random() * 100,
//         size: Math.random() * 3 + 1,
//         opacity: Math.random() * 0.5 + 0.5,
//         twinkleSpeed: Math.random() * 3 + 2
//       });
//     }
//     setStars(starsArray);
//   };

//   const createSparkles = (count) => {
//     const newSparkles = [];
//     for (let i = 0; i < count; i++) {
//       newSparkles.push({
//         id: Date.now() + i,
//         x: Math.random() * 100,
//         y: Math.random() * 100,
//         size: Math.random() * 10 + 5,
//         duration: Math.random() * 2 + 1
//       });
//     }
//     setSparkles(prev => [...prev, ...newSparkles]);
    
//     // Remove sparkles after animation
//     setTimeout(() => {
//       setSparkles(prev => prev.slice(count));
//     }, 2000);
//   };

//   const handleCandleBlow = () => {
//     const newCount = candlesBlown + 1;
//     setCandlesBlown(newCount);
//     createSparkles(20);
    
//     // Candle blow animation
//     setCakeAnimation('celebrate');
    
//     if (newCount === 3) {
//       setShowConfetti(true);
//       setShowMessage(`Happy Birthday ${userName}! üéâ`);
      
//       // Enhanced celebration effects
//       createSparkles(200);
//       setCakeAnimation('party');
      
//       // Generate AI prediction
//       const randomPrediction = predictions[Math.floor(Math.random() * predictions.length)];
//       setPrediction(randomPrediction);
      
//       // Speak birthday wish with multiple effects
//       speakMessageWithEffects(`Happy Birthday ${userName}! May all your dreams come true and this year be filled with joy and success!`);
      
//       // Create floating wishes
//       const wishes = [
//         "Happy Birthday!",
//         "Make a wish!",
//         "You're amazing!",
//         "Best wishes!",
//         "Cheers to you!"
//       ];
      
//       wishes.forEach((wish, index) => {
//         setTimeout(() => {
//           createFloatingText(wish);
//         }, index * 500);
//       });
      
//       setTimeout(() => {
//         setShowConfetti(false);
//         setCakeAnimation('glow');
//       }, 8000);
//     } else {
//       // Play candle blow sound effect
//       playBlowSound();
//     }
//   };

//   const playBlowSound = () => {
//     if (!audioContextRef.current) {
//       audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();
//     }
    
//     const oscillator = audioContextRef.current.createOscillator();
//     const gainNode = audioContextRef.current.createGain();
    
//     oscillator.connect(gainNode);
//     gainNode.connect(audioContextRef.current.destination);
    
//     oscillator.frequency.setValueAtTime(200, audioContextRef.current.currentTime);
//     oscillator.frequency.exponentialRampToValueAtTime(50, audioContextRef.current.currentTime + 0.3);
    
//     gainNode.gain.setValueAtTime(0.3, audioContextRef.current.currentTime);
//     gainNode.gain.exponentialRampToValueAtTime(0.01, audioContextRef.current.currentTime + 0.3);
    
//     oscillator.start();
//     oscillator.stop(audioContextRef.current.currentTime + 0.3);
//   };

//   const speakMessageWithEffects = (text) => {
//     if ('speechSynthesis' in window) {
//       const utterance = new SpeechSynthesisUtterance(text);
//       utterance.rate = 0.9;
//       utterance.pitch = 1.2;
//       utterance.volume = 1;
      
//       // Add voice effects
//       const voices = window.speechSynthesis.getVoices();
//       const femaleVoice = voices.find(voice => 
//         voice.name.includes('Female') || voice.name.includes('Samantha')
//       );
//       if (femaleVoice) {
//         utterance.voice = femaleVoice;
//       }
      
//       utterance.onstart = () => {
//         createSparkles(50);
//       };
      
//       utterance.onend = () => {
//         // Celebration after speech
//         createSparkles(100);
//       };
      
//       window.speechSynthesis.speak(utterance);
//     }
//   };

//   const startVoiceRecognition = () => {
//     if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
//       const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
//       const recognition = new SpeechRecognition();
      
//       recognition.continuous = true;
//       recognition.interimResults = true;
//       recognition.lang = 'en-US';
      
//       recognition.onstart = () => {
//         setVoiceActive(true);
//         createSparkles(30);
//       };
      
//       recognition.onresult = (event) => {
//         const transcript = event.results[event.results.length - 1][0].transcript.toLowerCase();
        
//         if (transcript.includes('blow') || transcript.includes('blow candles')) {
//           handleCandleBlow();
//           createSparkles(10);
//         } else if (transcript.includes('happy birthday') || transcript.includes('celebrate')) {
//           handleCandleBlow();
//         } else if (transcript.includes('sparkle') || transcript.includes('magic')) {
//           createSparkles(100);
//         }
//       };
      
//       recognition.start();
//     }
//   };

//   const createFloatingText = (text) => {
//     const floatingText = document.createElement('div');
//     floatingText.className = 'floating-wish';
//     floatingText.textContent = text;
//     floatingText.style.left = `${Math.random() * 80 + 10}%`;
//     floatingText.style.fontSize = `${Math.random() * 20 + 20}px`;
//     floatingText.style.color = `hsl(${Math.random() * 360}, 100%, 65%)`;
    
//     document.querySelector('.hero-container').appendChild(floatingText);
    
//     setTimeout(() => {
//       floatingText.remove();
//     }, 3000);
//   };

//   const takeSelfieWithCake = () => {
//     createSparkles(50);
    
//     if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
//       navigator.mediaDevices.getUserMedia({ video: { facingMode: 'user' } })
//         .then((stream) => {
//           const video = document.createElement('video');
//           video.srcObject = stream;
//           video.play();
          
//           setTimeout(() => {
//             const canvas = document.createElement('canvas');
//             canvas.width = video.videoWidth;
//             canvas.height = video.videoHeight;
//             const ctx = canvas.getContext('2d');
            
//             // Draw background gradient
//             const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
//             gradient.addColorStop(0, '#1a1a2e');
//             gradient.addColorStop(1, '#16213e');
//             ctx.fillStyle = gradient;
//             ctx.fillRect(0, 0, canvas.width, canvas.height);
            
//             // Draw video
//             ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
            
//             // Add cake with glow effect
//             ctx.shadowColor = '#FFD700';
//             ctx.shadowBlur = 20;
//             ctx.drawImage(document.getElementById('cake'), 
//               canvas.width/2 - 100, 
//               canvas.height/2 - 250, 
//               200, 500);
//             ctx.shadowBlur = 0;
            
//             // Add text with effects
//             ctx.font = 'bold 40px "Luckiest Guy", cursive';
//             ctx.fillStyle = '#FFD700';
//             ctx.textAlign = 'center';
//             ctx.shadowColor = 'rgba(255, 215, 0, 0.5)';
//             ctx.shadowBlur = 15;
//             ctx.fillText(`Happy Birthday ${userName}!`, canvas.width/2, 80);
//             ctx.shadowBlur = 0;
            
//             // Add sparkles
//             for(let i = 0; i < 50; i++) {
//               ctx.fillStyle = `rgba(255, 255, 200, ${Math.random()})`;
//               ctx.beginPath();
//               ctx.arc(
//                 Math.random() * canvas.width,
//                 Math.random() * canvas.height,
//                 Math.random() * 3 + 1,
//                 0, Math.PI * 2
//               );
//               ctx.fill();
//             }
            
//             // Save image
//             const link = document.createElement('a');
//             link.download = `birthday-selfie-${userName}.png`;
//             link.href = canvas.toDataURL();
//             link.click();
            
//             stream.getTracks().forEach(track => track.stop());
            
//             // Show success message
//             createFloatingText("Selfie Saved! üì∏");
            
//           }, 1000);
//         });
//     }
//   };

//   const generateAICard = () => {
//     createSparkles(100);
//     setCakeAnimation('magic');
    
//     const canvas = document.createElement('canvas');
//     canvas.width = 800;
//     canvas.height = 600;
//     const ctx = canvas.getContext('2d');
    
//     // Animated gradient background
//     const gradient = ctx.createLinearGradient(0, 0, 800, 600);
//     gradient.addColorStop(0, '#1a1a2e');
//     gradient.addColorStop(0.5, '#302b63');
//     gradient.addColorStop(1, '#24243e');
//     ctx.fillStyle = gradient;
//     ctx.fillRect(0, 0, 800, 600);
    
//     // Stars with twinkling effect
//     for(let i = 0; i < 200; i++) {
//       const opacity = Math.random() * 0.8 + 0.2;
//       ctx.fillStyle = `rgba(255, 255, 255, ${opacity})`;
//       ctx.beginPath();
//       ctx.arc(
//         Math.random() * 800,
//         Math.random() * 600,
//         Math.random() * 2 + 0.5,
//         0, Math.PI * 2
//       );
//       ctx.fill();
//     }
    
//     // Add cake with glow
//     ctx.save();
//     ctx.shadowColor = '#FF6B6B';
//     ctx.shadowBlur = 30;
//     ctx.drawImage(document.getElementById('cake'), 250, 100, 300, 400);
//     ctx.restore();
    
//     // Text effects
//     ctx.font = 'bold 60px "Luckiest Guy", cursive';
    
//     // Gradient text for title
//     const textGradient = ctx.createLinearGradient(0, 0, 800, 0);
//     textGradient.addColorStop(0, '#FFD700');
//     textGradient.addColorStop(0.5, '#FF6B6B');
//     textGradient.addColorStop(1, '#4ECDC4');
    
//     ctx.fillStyle = textGradient;
//     ctx.textAlign = 'center';
//     ctx.shadowColor = 'rgba(255, 215, 0, 0.3)';
//     ctx.shadowBlur = 20;
//     ctx.fillText(`HAPPY BIRTHDAY`, 400, 70);
//     ctx.fillText(userName.toUpperCase(), 400, 130);
    
//     // Prediction text
//     ctx.shadowBlur = 0;
//     ctx.font = 'italic 30px Arial';
//     ctx.fillStyle = '#ffffff';
//     ctx.fillText(prediction || "May your year be filled with joy!", 400, 530);
    
//     ctx.font = '20px Arial';
//     ctx.fillStyle = '#FFB6C1';
//     ctx.fillText('‚ú® Magically Generated with AI ‚ú®', 400, 570);
    
//     // Add floating emojis
//     const emojis = ['üéÇ', 'üéâ', 'üéÅ', '‚ú®', 'ü•≥'];
//     emojis.forEach((emoji, i) => {
//       ctx.font = '40px Arial';
//       ctx.fillText(emoji, 100 + i * 150, 200);
//     });
    
//     // Save card
//     const link = document.createElement('a');
//     link.download = `ai-birthday-card-${userName}.png`;
//     link.href = canvas.toDataURL();
//     link.click();
    
//     createFloatingText("AI Card Generated! ü§ñ");
//   };

//   const celebrateWithMusic = () => {
//     createSparkles(200);
//     setCakeAnimation('dance');
    
//     // Create music visualizer
//     const canvas = document.createElement('canvas');
//     canvas.className = 'music-visualizer';
//     canvas.width = 300;
//     canvas.height = 100;
//     document.querySelector('.hero-container').appendChild(canvas);
    
//     setTimeout(() => {
//       canvas.remove();
//     }, 5000);
//   };

//   return (
//     <div className="hero-container">
//       {/* Animated Stars Background */}
//       {stars.map(star => (
//         <div 
//           key={star.id}
//           className="star"
//           style={{
//             left: `${star.x}%`,
//             top: `${star.y}%`,
//             width: `${star.size}px`,
//             height: `${star.size}px`,
//             opacity: star.opacity,
//             animation: `twinkle ${star.twinkleSpeed}s infinite alternate`
//           }}
//         />
//       ))}
      
//       {/* Sparkles */}
//       {sparkles.map(sparkle => (
//         <div 
//           key={sparkle.id}
//           className="sparkle"
//           style={{
//             left: `${sparkle.x}%`,
//             top: `${sparkle.y}%`,
//             width: `${sparkle.size}px`,
//             height: `${sparkle.size}px`,
//             animation: `sparkleAnim ${sparkle.duration}s ease-out`
//           }}
//         />
//       ))}
      
//       {/* Floating Emojis */}
//       {floatingEmojis.map((emoji, index) => (
//         <div 
//           key={index}
//           className="floating-emoji"
//           style={{
//             left: `${Math.random() * 100}%`,
//             animationDelay: `${index * 0.5}s`,
//             fontSize: `${Math.random() * 20 + 20}px`
//           }}
//         >
//           {emoji}
//         </div>
//       ))}
      
//       {showConfetti && (
//         <Confetti 
//           width={window.innerWidth} 
//           height={window.innerHeight}
//           numberOfPieces={200}
//           gravity={0.1}
//         />
//       )}
      
//       <div className="ai-controls">
//         <button className="ai-btn magic-btn" onClick={takeSelfieWithCake}>
//           <span className="btn-icon">üì∏</span>
//           <span className="btn-text">Magic Selfie</span>
//           <span className="btn-sparkle">‚ú®</span>
//         </button>
//         <button className="ai-btn card-btn" onClick={generateAICard}>
//           <span className="btn-icon">üé¥</span>
//           <span className="btn-text">AI Card</span>
//           <span className="btn-sparkle">üåü</span>
//         </button>
//         <button className="ai-btn music-btn" onClick={celebrateWithMusic}>
//           <span className="btn-icon">üéµ</span>
//           <span className="btn-text">Dance Mode</span>
//           <span className="btn-sparkle">üíÉ</span>
//         </button>
//         <button className="ai-btn voice-btn" onClick={() => speakMessageWithEffects(`Happy Birthday ${userName}!`)}>
//           <span className="btn-icon">üîä</span>
//           <span className="btn-text">Voice Wish</span>
//           <span className="btn-sparkle">üé§</span>
//         </button>
//       </div>
      
//       <div className="voice-indicator">
//         {voiceActive && (
//           <div className="voice-pulse">
//             <span className="pulse-dot">‚óè</span>
//             <span>Voice Active - Say "Blow Candles"</span>
//             <span className="pulse-dot">‚óè</span>
//           </div>
//         )}
//       </div>
      
//       {/* Animated Cake Container */}
//       <div className={`cake-container ${cakeAnimation}`}>
//         <div className="cake-glow"></div>
//         <div className="candles">
//           <Candle left="45%" onBlow={handleCandleBlow} />
//           <Candle left="50%" onBlow={handleCandleBlow} />
//           <Candle left="55%" onBlow={handleCandleBlow} />
//         </div>
        
//         <svg
//           id="cake"
//           ref={cakeRef}
//           className={`cake-svg ${cakeAnimation}`}
//           version="1.1"
//           x="0px"
//           y="0px"
//           width="200px"
//           height="500px"
//           viewBox="0 0 200 500"
//           enableBackground="new 0 0 200 500"
//           xmlSpace="preserve"
//         >
//           {/* Your existing SVG paths */}
//           {/* ... */}
//         </svg>
//       </div>
      
//       {/* Animated Messages */}
//       <div className="text-container">
//         {wishAnimation && (
//           <div className="welcome-message">
//             <h2>Welcome, {userName}!</h2>
//             <p>Ready to blow the candles? üéÇ</p>
//           </div>
//         )}
        
//         <h1 className={`main-title ${cakeAnimation}`}>
//           <span className="title-char">H</span>
//           <span className="title-char">A</span>
//           <span className="title-char">P</span>
//           <span className="title-char">P</span>
//           <span className="title-char">Y</span>
//           <span className="title-space"></span>
//           <span className="title-char">B</span>
//           <span className="title-char">I</span>
//           <span className="title-char">R</span>
//           <span className="title-char">T</span>
//           <span className="title-char">H</span>
//           <span className="title-char">D</span>
//           <span className="title-char">A</span>
//           <span className="title-char">Y</span>
//           <span className="title-char">!</span>
//         </h1>
        
//         {showMessage && (
//           <div className="wish-message animate__animated animate__bounceIn">
//             {showMessage}
//           </div>
//         )}
        
//         {prediction && (
//           <div className="prediction animate__animated animate__fadeInUp">
//             <div className="prediction-icon">üîÆ</div>
//             <div className="prediction-text">{prediction}</div>
//           </div>
//         )}
        
//         <div className="candle-counter">
//           <div className="counter-glow"></div>
//           <span className="counter-text">üïØÔ∏è {candlesBlown}/3 Candles Blown</span>
//           {candlesBlown === 3 && (
//             <span className="counter-celebrate">üéâ WISH GRANTED!</span>
//           )}
//         </div>
//       </div>
      
//       <div className="ai-features">
//         <div className="feature">
//           <div className="feature-icon">üé§</div>
//           <div className="feature-text">Voice Magic</div>
//         </div>
//         <div className="feature">
//           <div className="feature-icon">ü§ñ</div>
//           <div className="feature-text">AI Powered</div>
//         </div>
//         <div className="feature">
//           <div className="feature-icon">‚ú®</div>
//           <div className="feature-text">Visual Magic</div>
//         </div>
//         <div className="feature">
//           <div className="feature-icon">üé®</div>
//           <div className="feature-text">Creative</div>
//         </div>
//       </div>
      
//       {/* Decorative Elements */}
//       <div className="decoration left-decoration">
//         <div className="ribbon"></div>
//         <div className="balloon"></div>
//         <div className="confetti-piece"></div>
//       </div>
      
//       <div className="decoration right-decoration">
//         <div className="ribbon"></div>
//         <div className="balloon"></div>
//         <div className="confetti-piece"></div>
//       </div>
//     </div>
//   );
// };

// export default Hero;






// import React, { useEffect, useRef, useState } from 'react';
// import './Hero.css';
// import Candle from './Candle';
// import Confetti from 'react-confetti';
// import useSound from 'use-sound';
// // Import your birthday song
// // import birthdaySong from '../assets/sound/birthday-song.mp3';

// const Hero = () => {
//   const [candlesBlown, setCandlesBlown] = useState(0);
//   const [showConfetti, setShowConfetti] = useState(false);
//   const [showMessage, setShowMessage] = useState('');
//   const [playBirthday] = useSound('/birthday-song.mp3'); // Update path as needed
//   const [voiceActive, setVoiceActive] = useState(false);
//   const [prediction, setPrediction] = useState('');
//   const [userName, setUserName] = useState('');
//   const [sparkles, setSparkles] = useState([]);
//   const [cakeAnimation, setCakeAnimation] = useState('idle');
//   const [wishAnimation, setWishAnimation] = useState(false);
//   const [floatingEmojis, setFloatingEmojis] = useState([]);
//   const [stars, setStars] = useState([]);
//   const [isDancing, setIsDancing] = useState(false);
  
//   const cakeRef = useRef(null);
//   const audioContextRef = useRef(null);
//   const videoRef = useRef(null);
//   const streamRef = useRef(null);

//   // Romantic predictions for girls
//   const predictions = [
//     "This year, love will find you in the most beautiful way! üíñ",
//     "You'll shine brighter than ever before! ‚ú®",
//     "Adventure and romance await you! üåπ",
//     "Your dreams are about to come true! üåü",
//     "Happiness will surround you like never before! üòä",
//     "Success and joy are coming your way! üéâ",
//     "You'll discover new passions and talents! üåà",
//     "This year will be magical for you! ü™Ñ"
//   ];

//   useEffect(() => {
//     // Create floating stars background
//     createStars();
    
//     // Create floating emojis
//     const emojis = ['üíñ', '‚ú®', 'üéÇ', 'üéÅ', 'üéÄ', 'üå∏', 'üíï', 'üåü', 'üéà', 'ü•∞'];
//     setFloatingEmojis(emojis);
    
//     // Welcome user with a beautiful animation
//     setTimeout(() => {
//       const name = prompt("üå∏ What's your beautiful name, princess?") || "Beautiful Soul";
//       setUserName(name);
//       createSparkles(100);
//       setCakeAnimation('appear');
      
//       // Welcome animation
//       setTimeout(() => {
//         setWishAnimation(true);
//         speakMessage(`Welcome ${name}! Get ready for a magical birthday celebration!`);
//       }, 1000);
      
//       // Start voice recognition
//       startVoiceRecognition();
      
//       // Play birthday music
//       playBirthday();
      
//     }, 1000);
    
//     // Create continuous sparkles
//     const sparkleInterval = setInterval(() => {
//       createSparkles(3);
//     }, 2000);
    
//     return () => {
//       clearInterval(sparkleInterval);
//       if (streamRef.current) {
//         streamRef.current.getTracks().forEach(track => track.stop());
//       }
//     };
//   }, []);

//   const createStars = () => {
//     const starsArray = [];
//     for (let i = 0; i < 80; i++) {
//       starsArray.push({
//         id: i,
//         x: Math.random() * 100,
//         y: Math.random() * 100,
//         size: Math.random() * 4 + 1,
//         opacity: Math.random() * 0.7 + 0.3,
//         twinkleSpeed: Math.random() * 4 + 2
//       });
//     }
//     setStars(starsArray);
//   };

//   const createSparkles = (count) => {
//     const newSparkles = [];
//     for (let i = 0; i < count; i++) {
//       newSparkles.push({
//         id: Date.now() + i + Math.random(),
//         x: Math.random() * 100,
//         y: Math.random() * 100,
//         size: Math.random() * 15 + 5,
//         duration: Math.random() * 1.5 + 0.5,
//         color: `hsl(${Math.random() * 60 + 300}, 100%, ${Math.random() * 30 + 60}%)`
//       });
//     }
//     setSparkles(prev => [...prev, ...newSparkles]);
    
//     // Remove sparkles after animation
//     setTimeout(() => {
//       setSparkles(prev => prev.slice(newSparkles.length));
//     }, 2000);
//   };

//   const handleCandleBlow = () => {
//     const newCount = candlesBlown + 1;
//     setCandlesBlown(newCount);
//     createSparkles(15);
    
//     // Candle blow animation
//     setCakeAnimation('celebrate');
    
//     if (newCount === 3) {
//       setShowConfetti(true);
//       setShowMessage(`Happy Birthday ${userName}! üíñ`);
      
//       // Enhanced celebration effects
//       createSparkles(100);
//       setCakeAnimation('party');
      
//       // Generate romantic prediction
//       const randomPrediction = predictions[Math.floor(Math.random() * predictions.length)];
//       setPrediction(randomPrediction);
      
//       // Speak birthday wish with sweet voice
//       speakMessageWithEffects(`Happy Birthday my dear ${userName}! May this year bring you all the love, joy and beautiful moments you deserve. You are amazing!`);
      
//       // Create floating wishes
//       const wishes = [
//         "You're Amazing!",
//         "So Beautiful!",
//         "Happy Birthday!",
//         "Make a Wish!",
//         "Love You! üíñ"
//       ];
      
//       wishes.forEach((wish, index) => {
//         setTimeout(() => {
//           createFloatingText(wish);
//         }, index * 400);
//       });
      
//       setTimeout(() => {
//         setShowConfetti(false);
//         setCakeAnimation('glow');
//       }, 6000);
//     } else {
//       playBlowSound();
//     }
//   };

//   const playBlowSound = () => {
//     if (!audioContextRef.current) {
//       audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();
//     }
    
//     const oscillator = audioContextRef.current.createOscillator();
//     const gainNode = audioContextRef.current.createGain();
    
//     oscillator.connect(gainNode);
//     gainNode.connect(audioContextRef.current.destination);
    
//     oscillator.frequency.setValueAtTime(150, audioContextRef.current.currentTime);
//     oscillator.frequency.exponentialRampToValueAtTime(40, audioContextRef.current.currentTime + 0.4);
    
//     gainNode.gain.setValueAtTime(0.2, audioContextRef.current.currentTime);
//     gainNode.gain.exponentialRampToValueAtTime(0.01, audioContextRef.current.currentTime + 0.4);
    
//     oscillator.start();
//     oscillator.stop(audioContextRef.current.currentTime + 0.4);
//   };

//   const speakMessageWithEffects = (text) => {
//     if ('speechSynthesis' in window) {
//       // Cancel any ongoing speech
//       window.speechSynthesis.cancel();
      
//       const utterance = new SpeechSynthesisUtterance(text);
//       utterance.rate = 0.9;
//       utterance.pitch = 1.3;
//       utterance.volume = 1;
      
//       // Try to find a female voice
//       const voices = window.speechSynthesis.getVoices();
//       const femaleVoice = voices.find(voice => 
//         voice.name.includes('Female') || 
//         voice.name.includes('Samantha') || 
//         voice.name.includes('Google UK English Female')
//       );
      
//       if (femaleVoice) {
//         utterance.voice = femaleVoice;
//       }
      
//       utterance.onstart = () => {
//         createSparkles(30);
//       };
      
//       utterance.onend = () => {
//         createSparkles(50);
//       };
      
//       window.speechSynthesis.speak(utterance);
//     }
//   };

//   const startVoiceRecognition = () => {
//     if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
//       const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
//       const recognition = new SpeechRecognition();
      
//       recognition.continuous = true;
//       recognition.interimResults = false;
//       recognition.lang = 'en-US';
      
//       recognition.onstart = () => {
//         setVoiceActive(true);
//         createSparkles(20);
//       };
      
//       recognition.onresult = (event) => {
//         const transcript = event.results[event.results.length - 1][0].transcript.toLowerCase();
        
//         if (transcript.includes('blow') || transcript.includes('blow candle')) {
//           handleCandleBlow();
//         } else if (transcript.includes('happy birthday') || transcript.includes('celebrate')) {
//           handleCandleBlow();
//         } else if (transcript.includes('sparkle') || transcript.includes('magic')) {
//           createSparkles(50);
//         } else if (transcript.includes('dance') || transcript.includes('party')) {
//           celebrateWithMusic();
//         }
//       };
      
//       recognition.onerror = (event) => {
//         console.log("Voice recognition error:", event.error);
//       };
      
//       recognition.onend = () => {
//         // Restart recognition
//         setTimeout(() => {
//           if (voiceActive) {
//             recognition.start();
//           }
//         }, 1000);
//       };
      
//       recognition.start();
//     }
//   };

//   const createFloatingText = (text) => {
//     const floatingText = document.createElement('div');
//     floatingText.className = 'floating-wish';
//     floatingText.textContent = text;
//     floatingText.style.left = `${Math.random() * 70 + 15}%`;
//     floatingText.style.fontSize = `${Math.random() * 25 + 25}px`;
//     floatingText.style.color = `hsl(${Math.random() * 60 + 300}, 100%, 65%)`;
    
//     document.querySelector('.hero-container').appendChild(floatingText);
    
//     setTimeout(() => {
//       if (floatingText.parentNode) {
//         floatingText.parentNode.removeChild(floatingText);
//       }
//     }, 3000);
//   };

//   const takeSelfieWithCake = async () => {
//     createSparkles(50);
    
//     try {
//       // Check if media devices are available
//       if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
//         alert("Camera not available on this device. Try on your phone or laptop!");
//         return;
//       }

//       // Stop any existing stream
//       if (streamRef.current) {
//         streamRef.current.getTracks().forEach(track => track.stop());
//       }

//       // Get camera access
//       const stream = await navigator.mediaDevices.getUserMedia({ 
//         video: { 
//           facingMode: 'user',
//           width: { ideal: 1280 },
//           height: { ideal: 720 }
//         } 
//       });
      
//       streamRef.current = stream;

//       // Create video element
//       const video = document.createElement('video');
//       video.srcObject = stream;
//       video.autoplay = true;
//       video.playsInline = true;
      
//       // Wait for video to be ready
//       await new Promise((resolve) => {
//         video.onloadedmetadata = () => {
//           video.play();
//           resolve();
//         };
//       });

//       // Create canvas
//       const canvas = document.createElement('canvas');
//       canvas.width = video.videoWidth;
//       canvas.height = video.videoHeight;
//       const ctx = canvas.getContext('2d');
      
//       // Draw video frame
//       ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
      
//       // Add beautiful background
//       const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
//       gradient.addColorStop(0, 'rgba(255, 182, 193, 0.3)');
//       gradient.addColorStop(1, 'rgba(255, 192, 203, 0.2)');
//       ctx.fillStyle = gradient;
//       ctx.globalCompositeOperation = 'overlay';
//       ctx.fillRect(0, 0, canvas.width, canvas.height);
//       ctx.globalCompositeOperation = 'source-over';
      
//       // Get cake SVG
//       const cakeSvg = document.getElementById('cake');
//       if (cakeSvg) {
//         // Create image from SVG
//         const svgData = new XMLSerializer().serializeToString(cakeSvg);
//         const svgBlob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });
//         const svgUrl = URL.createObjectURL(svgBlob);
        
//         const cakeImg = new Image();
//         await new Promise((resolve, reject) => {
//           cakeImg.onload = resolve;
//           cakeImg.onerror = reject;
//           cakeImg.src = svgUrl;
//         });
        
//         // Draw cake with glow
//         const cakeWidth = 250;
//         const cakeHeight = 350;
//         const cakeX = canvas.width/2 - cakeWidth/2;
//         const cakeY = canvas.height/2 - cakeHeight/2 + 50;
        
//         // Add glow effect
//         ctx.shadowColor = '#FF69B4';
//         ctx.shadowBlur = 40;
//         ctx.drawImage(cakeImg, cakeX, cakeY, cakeWidth, cakeHeight);
//         ctx.shadowBlur = 0;
//       }
      
//       // Add beautiful text
//       ctx.font = 'bold 50px "Dancing Script", cursive';
//       ctx.fillStyle = '#FF69B4';
//       ctx.textAlign = 'center';
//       ctx.shadowColor = 'rgba(255, 105, 180, 0.5)';
//       ctx.shadowBlur = 15;
//       ctx.fillText(`Happy Birthday`, canvas.width/2, 80);
//       ctx.fillText(`${userName}! üíñ`, canvas.width/2, 140);
//       ctx.shadowBlur = 0;
      
//       // Add sparkles
//       for(let i = 0; i < 30; i++) {
//         ctx.fillStyle = `rgba(255, 255, 255, ${Math.random() * 0.8 + 0.2})`;
//         ctx.beginPath();
//         ctx.arc(
//           Math.random() * canvas.width,
//           Math.random() * canvas.height,
//           Math.random() * 4 + 1,
//           0, Math.PI * 2
//         );
//         ctx.fill();
//       }
      
//       // Save image
//       const link = document.createElement('a');
//       link.download = `birthday-selfie-${userName}.png`;
//       link.href = canvas.toDataURL('image/png');
//       document.body.appendChild(link);
//       link.click();
//       document.body.removeChild(link);
      
//       // Cleanup
//       stream.getTracks().forEach(track => track.stop());
//       streamRef.current = null;
      
//       // Show success message
//       createFloatingText("Selfie Saved! üíñ");
//       setShowMessage("Beautiful selfie saved! Check your downloads üíï");
      
//     } catch (error) {
//       console.error("Error taking selfie:", error);
//       alert("Couldn't access camera. Please allow camera permissions!");
//     }
//   };

//   const generateAICard = () => {
//     createSparkles(100);
//     setCakeAnimation('magic');
    
//     const canvas = document.createElement('canvas');
//     canvas.width = 800;
//     canvas.height = 1000; // Taller card for more content
//     const ctx = canvas.getContext('2d');
    
//     // Beautiful gradient background
//     const gradient = ctx.createLinearGradient(0, 0, 800, 1000);
//     gradient.addColorStop(0, '#FFC0CB'); // Pink
//     gradient.addColorStop(0.3, '#FFB6C1'); // Light Pink
//     gradient.addColorStop(0.7, '#FF69B4'); // Hot Pink
//     gradient.addColorStop(1, '#DB7093'); // Pale Violet Red
//     ctx.fillStyle = gradient;
//     ctx.fillRect(0, 0, 800, 1000);
    
//     // Add sparkle stars
//     for(let i = 0; i < 150; i++) {
//       const opacity = Math.random() * 0.6 + 0.4;
//       ctx.fillStyle = `rgba(255, 255, 255, ${opacity})`;
//       ctx.beginPath();
//       ctx.arc(
//         Math.random() * 800,
//         Math.random() * 1000,
//         Math.random() * 3 + 1,
//         0, Math.PI * 2
//       );
//       ctx.fill();
//     }
    
//     // Add decorative hearts
//     for(let i = 0; i < 20; i++) {
//       ctx.fillStyle = `rgba(255, 255, 255, ${Math.random() * 0.3 + 0.2})`;
//       ctx.font = `${Math.random() * 30 + 20}px Arial`;
//       ctx.fillText('üíñ', Math.random() * 800, Math.random() * 1000);
//     }
    
//     // Add cake in center
//     const cakeSvg = document.getElementById('cake');
//     if (cakeSvg) {
//       const svgData = new XMLSerializer().serializeToString(cakeSvg);
//       const svgBlob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });
//       const svgUrl = URL.createObjectURL(svgBlob);
      
//       const cakeImg = new Image();
//       cakeImg.onload = () => {
//         // Draw cake with glow
//         ctx.shadowColor = '#FF69B4';
//         ctx.shadowBlur = 50;
//         ctx.drawImage(cakeImg, 250, 200, 300, 400);
//         ctx.shadowBlur = 0;
        
//         // Text effects with beautiful fonts
//         ctx.font = 'bold 70px "Dancing Script", cursive';
        
//         // Gradient text for title
//         const textGradient = ctx.createLinearGradient(0, 0, 800, 0);
//         textGradient.addColorStop(0, '#FFFFFF');
//         textGradient.addColorStop(0.5, '#FFD700');
//         textGradient.addColorStop(1, '#FF69B4');
        
//         ctx.fillStyle = textGradient;
//         ctx.textAlign = 'center';
//         ctx.shadowColor = 'rgba(255, 105, 180, 0.3)';
//         ctx.shadowBlur = 25;
//         ctx.fillText(`HAPPY BIRTHDAY`, 400, 100);
//         ctx.fillText(userName.toUpperCase(), 400, 180);
        
//         // Personal message
//         ctx.shadowBlur = 0;
//         ctx.font = 'italic 35px "Georgia", serif';
//         ctx.fillStyle = '#FFFFFF';
//         ctx.fillText('Wishing you a day filled with', 400, 650);
//         ctx.fillText('love, joy, and beautiful moments!', 400, 700);
        
//         // Prediction text
//         ctx.font = '28px "Arial", sans-serif';
//         ctx.fillStyle = '#FFD700';
//         ctx.fillText(prediction || "May all your dreams come true!", 400, 780);
        
//         // Signature
//         ctx.font = '25px "Brush Script MT", cursive';
//         ctx.fillStyle = '#FFFFFF';
//         ctx.fillText('Made with üíñ using AI Magic', 400, 900);
//         ctx.fillText('‚ú®', 400, 950);
        
//         // Save the card
//         const link = document.createElement('a');
//         link.download = `birthday-card-${userName}.png`;
//         link.href = canvas.toDataURL();
//         document.body.appendChild(link);
//         link.click();
//         document.body.removeChild(link);
        
//         createFloatingText("AI Card Created! üíù");
//         setShowMessage("Beautiful birthday card saved! üíå");
//       };
//       cakeImg.src = svgUrl;
//     }
//   };

//   const celebrateWithMusic = () => {
//     createSparkles(200);
//     setIsDancing(true);
//     setCakeAnimation('dance');
    
//     // Create floating hearts
//     const hearts = ['üíñ', 'üíï', 'üíó', 'üíì', 'üíû'];
//     hearts.forEach((heart, i) => {
//       setTimeout(() => {
//         createFloatingText(heart);
//       }, i * 300);
//     });
    
//     // Create visualizer bars
//     const visualizer = document.createElement('div');
//     visualizer.className = 'music-visualizer';
//     visualizer.innerHTML = Array(20).fill(0).map(() => 
//       `<div class="visualizer-bar" style="animation-delay: ${Math.random() * 0.5}s"></div>`
//     ).join('');
    
//     document.querySelector('.hero-container').appendChild(visualizer);
    
//     // Stop after 8 seconds
//     setTimeout(() => {
//       setIsDancing(false);
//       setCakeAnimation('glow');
//       if (visualizer.parentNode) {
//         visualizer.parentNode.removeChild(visualizer);
//       }
//     }, 8000);
//   };

//   return (
//     <div className="hero-container">
//       {/* Animated Stars Background */}
//       {stars.map(star => (
//         <div 
//           key={star.id}
//           className="star"
//           style={{
//             left: `${star.x}%`,
//             top: `${star.y}%`,
//             width: `${star.size}px`,
//             height: `${star.size}px`,
//             opacity: star.opacity,
//             animation: `twinkle ${star.twinkleSpeed}s infinite alternate`
//           }}
//         />
//       ))}
      
//       {/* Sparkles */}
//       {sparkles.map(sparkle => (
//         <div 
//           key={sparkle.id}
//           className="sparkle"
//           style={{
//             left: `${sparkle.x}%`,
//             top: `${sparkle.y}%`,
//             width: `${sparkle.size}px`,
//             height: `${sparkle.size}px`,
//             animation: `sparkleAnim ${sparkle.duration}s ease-out`,
//             background: sparkle.color
//           }}
//         />
//       ))}
      
//       {/* Floating Emojis */}
//       {floatingEmojis.map((emoji, index) => (
//         <div 
//           key={index}
//           className="floating-emoji"
//           style={{
//             left: `${Math.random() * 100}%`,
//             animationDelay: `${index * 0.3}s`,
//             fontSize: `${Math.random() * 25 + 25}px`,
//             color: `hsl(${Math.random() * 60 + 300}, 100%, 70%)`
//           }}
//         >
//           {emoji}
//         </div>
//       ))}
      
//       {showConfetti && (
//         <Confetti 
//           width={window.innerWidth} 
//           height={window.innerHeight}
//           numberOfPieces={300}
//           gravity={0.08}
//           colors={['#FF69B4', '#FFB6C1', '#FFD700', '#FFFFFF', '#FF1493']}
//         />
//       )}
      
//       <div className="ai-controls">
//         <button className="ai-btn magic-btn" onClick={takeSelfieWithCake}>
//           <span className="btn-icon">üíñ</span>
//           <span className="btn-text">Magic Selfie</span>
//           <span className="btn-sparkle">‚ú®</span>
//         </button>
//         <button className="ai-btn card-btn" onClick={generateAICard}>
//           <span className="btn-icon">üéÄ</span>
//           <span className="btn-text">AI Card</span>
//           <span className="btn-sparkle">üíù</span>
//         </button>
//         <button className="ai-btn music-btn" onClick={celebrateWithMusic}>
//           <span className="btn-icon">üíÉ</span>
//           <span className="btn-text">Dance Party</span>
//           <span className="btn-sparkle">üéµ</span>
//         </button>
//         <button className="ai-btn voice-btn" onClick={() => speakMessageWithEffects(`Happy Birthday ${userName}! You're amazing!`)}>
//           <span className="btn-icon">üíï</span>
//           <span className="btn-text">Sweet Wish</span>
//           <span className="btn-sparkle">üé§</span>
//         </button>
//       </div>
      
//       <div className="voice-indicator">
//         {voiceActive && (
//           <div className="voice-pulse">
//             <span className="pulse-dot">üíñ</span>
//             <span>Say "Blow" to blow candles!</span>
//             <span className="pulse-dot">‚ú®</span>
//           </div>
//         )}
//       </div>
      
//       {/* Animated Cake Container */}
//       <div className={`cake-container ${cakeAnimation}`}>
//         <div className="cake-glow"></div>
//         <div className="candles">
//           <Candle left="45%" onBlow={handleCandleBlow} />
//           <Candle left="50%" onBlow={handleCandleBlow} />
//           <Candle left="55%" onBlow={handleCandleBlow} />
//         </div>
        
//         <svg
//           id="cake"
//           ref={cakeRef}
//           className={`cake-svg ${cakeAnimation}`}
//           version="1.1"
//           x="0px"
//           y="0px"
//           width="200px"
//           height="500px"
//           viewBox="0 0 200 500"
//           enableBackground="new 0 0 200 500"
//           xmlSpace="preserve"
//         >
//           {/* Your cake SVG paths here */}
//           <path fill="#ffb6c1" d="M173.667-13.94c-49.298,0-102.782,0-147.334,0c-3.999,0-4-16.002,0-16.002
//             c44.697,0,96.586,0,147.334,0C177.667-29.942,177.668-13.94,173.667-13.94z">
//             <animate id="bizcocho_3" attributeName="d" calcMode="spline" keySplines="0 0 1 1; 0 0 1 1" begin="relleno_2.end" dur="0.3s" fill="freeze" values="
//                               M173.667-13.94c-49.298,0-102.782,0-147.334,0c-3.999,0-4-16.002,0-16.002
//         c44.697,0,96.586,0,147.334,0C177.667-29.942,177.668-13.94,173.667-13.94z
//                               ;
//                               M173.667,411.567c-47.995,12.408-102.955,12.561-147.334,0
//         c-3.848-1.089-0.189-16.089,3.661-15.002c44.836,12.66,90.519,12.753,139.427,0.07
//         C173.293,395.631,177.541,410.566,173.667,411.567z
//                               ;
//                               M173.667,427.569c-49.795,0-101.101,0-147.334,0c-3.999,0-4-16.002,0-16.002
//         c46.385,0,97.539,0,147.334,0C177.668,411.567,177.667,427.569,173.667,427.569z
//                               " />
//           </path>
//           {/* Add all your cake paths here */}
//         </svg>
//       </div>
      
//       {/* Animated Messages */}
//       <div className="text-container">
//         {wishAnimation && (
//           <div className="welcome-message">
//             <h2>Welcome, {userName}! üå∏</h2>
//             <p>Ready for your magical birthday? Blow the candles! üéÇ</p>
//           </div>
//         )}
        
//         <h1 className={`main-title ${cakeAnimation}`}>
//           <span className="title-char">H</span>
//           <span className="title-char">A</span>
//           <span className="title-char">P</span>
//           <span className="title-char">P</span>
//           <span className="title-char">Y</span>
//           <span className="title-space"></span>
//           <span className="title-char">B</span>
//           <span className="title-char">I</span>
//           <span className="title-char">R</span>
//           <span className="title-char">T</span>
//           <span className="title-char">H</span>
//           <span className="title-char">D</span>
//           <span className="title-char">A</span>
//           <span className="title-char">Y</span>
//           <span className="title-char">!</span>
//         </h1>
        
//         {showMessage && (
//           <div className="wish-message">
//             {showMessage}
//           </div>
//         )}
        
//         {prediction && (
//           <div className="prediction">
//             <div className="prediction-icon">üí´</div>
//             <div className="prediction-text">{prediction}</div>
//           </div>
//         )}
        
//         <div className="candle-counter">
//           <div className="counter-glow"></div>
//           <span className="counter-text">üïØÔ∏è {candlesBlown}/3 Candles Blown</span>
//           {candlesBlown === 3 && (
//             <span className="counter-celebrate">üéâ WISH GRANTED! üíñ</span>
//           )}
//         </div>
//       </div>
      
//       <div className="ai-features">
//         <div className="feature">
//           <div className="feature-icon">üíñ</div>
//           <div className="feature-text">Magical</div>
//         </div>
//         <div className="feature">
//           <div className="feature-icon">‚ú®</div>
//           <div className="feature-text">Sparkling</div>
//         </div>
//         <div className="feature">
//           <div className="feature-icon">üéÄ</div>
//           <div className="feature-text">Beautiful</div>
//         </div>
//         <div className="feature">
//           <div className="feature-icon">üíï</div>
//           <div className="feature-text">Loving</div>
//         </div>
//       </div>
      
//       {/* Floating Hearts */}
//       {isDancing && (
//         <div className="dancing-hearts">
//           {Array(20).fill(0).map((_, i) => (
//             <div 
//               key={i}
//               className="dancing-heart"
//               style={{
//                 left: `${Math.random() * 100}%`,
//                 animationDelay: `${i * 0.2}s`,
//                 fontSize: `${Math.random() * 30 + 20}px`
//               }}
//             >
//               {['üíñ', 'üíï', 'üíó', 'üíì'][Math.floor(Math.random() * 4)]}
//             </div>
//           ))}
//         </div>
//       )}
//     </div>
//   );
// };

// export default Hero;







// import React, { useEffect, useRef, useState } from 'react';
// import './Hero.css';
// import Candle from './Candle';
// import Confetti from 'react-confetti';
// import useSound from 'use-sound';
// import birthdaySong from '../assets/sound/birthday-song.mp3';

// const Hero = () => {
//   const [candlesBlown, setCandlesBlown] = useState(0);
//   const [showConfetti, setShowConfetti] = useState(false);
//   const [showMessage, setShowMessage] = useState('');
//   const [playBirthday, { stop: stopMusic }] = useSound(birthdaySong, {
//     volume: 0.5,
//     loop: true
//   });
//   const [voiceActive, setVoiceActive] = useState(false);
//   const [prediction, setPrediction] = useState('');
//   const [userName, setUserName] = useState('');
//   const [sparkles, setSparkles] = useState([]);
//   const [cakeAnimation, setCakeAnimation] = useState('idle');
//   const [wishAnimation, setWishAnimation] = useState(false);
//   const [floatingEmojis, setFloatingEmojis] = useState([]);
//   const [stars, setStars] = useState([]);
//   const [isDancing, setIsDancing] = useState(false);
//   const [musicPlaying, setMusicPlaying] = useState(false);
//   const [cakeVisible, setCakeVisible] = useState(true);
  
//   const cakeRef = useRef(null);
//   const audioContextRef = useRef(null);
//   const recognitionRef = useRef(null);

//   // Romantic predictions for girls
//   const predictions = [
//     "This year, love will find you in the most beautiful way! üíñ",
//     "You'll shine brighter than ever before! ‚ú®",
//     "Adventure and romance await you! üåπ",
//     "Your dreams are about to come true! üåü",
//     "Happiness will surround you like never before! üòä",
//     "Success and joy are coming your way! üéâ",
//     "You'll discover new passions and talents! üåà",
//     "This year will be magical for you! ü™Ñ"
//   ];

//   useEffect(() => {
//     // Create floating stars background
//     createStars();
    
//     // Create floating emojis
//     const emojis = ['üíñ', '‚ú®', 'üéÇ', 'üéÅ', 'üéÄ', 'üå∏', 'üíï', 'üåü', 'üéà', 'ü•∞'];
//     setFloatingEmojis(emojis);
    
//     // Welcome user with a beautiful animation
//     setTimeout(() => {
//       const name = prompt("üå∏ What's your beautiful name, princess?") || "Beautiful Soul";
//       setUserName(name);
//       createSparkles(100);
//       setCakeAnimation('appear');
//       setCakeVisible(true);
      
//       // Welcome animation
//       setTimeout(() => {
//         setWishAnimation(true);
//         speakMessage(`Welcome ${name}! Get ready for a magical birthday celebration!`);
//       }, 1000);
      
//       // Start voice recognition
//       startVoiceRecognition();
      
//     }, 1000);
    
//     // Create continuous sparkles
//     const sparkleInterval = setInterval(() => {
//       createSparkles(3);
//     }, 2000);
    
//     return () => {
//       clearInterval(sparkleInterval);
//       if (recognitionRef.current) {
//         recognitionRef.current.stop();
//       }
//       stopMusic();
//     };
//   }, []);

//   const createStars = () => {
//     const starsArray = [];
//     for (let i = 0; i < 80; i++) {
//       starsArray.push({
//         id: i,
//         x: Math.random() * 100,
//         y: Math.random() * 100,
//         size: Math.random() * 4 + 1,
//         opacity: Math.random() * 0.7 + 0.3,
//         twinkleSpeed: Math.random() * 4 + 2
//       });
//     }
//     setStars(starsArray);
//   };

//   const createSparkles = (count) => {
//     const newSparkles = [];
//     for (let i = 0; i < count; i++) {
//       newSparkles.push({
//         id: Date.now() + i + Math.random(),
//         x: Math.random() * 100,
//         y: Math.random() * 100,
//         size: Math.random() * 15 + 5,
//         duration: Math.random() * 1.5 + 0.5,
//         color: `hsl(${Math.random() * 60 + 300}, 100%, ${Math.random() * 30 + 60}%)`
//       });
//     }
//     setSparkles(prev => [...prev, ...newSparkles]);
    
//     // Remove sparkles after animation
//     setTimeout(() => {
//       setSparkles(prev => prev.slice(newSparkles.length));
//     }, 2000);
//   };

//   const handleCandleBlow = () => {
//     if (candlesBlown >= 3) return;
    
//     const newCount = candlesBlown + 1;
//     setCandlesBlown(newCount);
//     createSparkles(15);
    
//     // Candle blow animation
//     setCakeAnimation('celebrate');
    
//     if (newCount === 3) {
//       setShowConfetti(true);
//       setShowMessage(`Happy Birthday ${userName}! üíñ`);
      
//       // Enhanced celebration effects
//       createSparkles(100);
//       setCakeAnimation('party');
      
//       // Play birthday music
//       if (!musicPlaying) {
//         playBirthday();
//         setMusicPlaying(true);
//       }
      
//       // Generate romantic prediction
//       const randomPrediction = predictions[Math.floor(Math.random() * predictions.length)];
//       setPrediction(randomPrediction);
      
//       // Speak birthday wish with sweet voice
//       speakMessageWithEffects(`Happy Birthday my dear ${userName}! May this year bring you all the love, joy and beautiful moments you deserve. You are amazing!`);
      
//       // Create floating wishes
//       const wishes = [
//         "You're Amazing!",
//         "So Beautiful!",
//         "Happy Birthday!",
//         "Make a Wish!",
//         "Love You! üíñ"
//       ];
      
//       wishes.forEach((wish, index) => {
//         setTimeout(() => {
//           createFloatingText(wish);
//         }, index * 400);
//       });
      
//       setTimeout(() => {
//         setShowConfetti(false);
//         setCakeAnimation('glow');
//       }, 6000);
//     } else {
//       playBlowSound();
//     }
//   };

//   const playBlowSound = () => {
//     if (!audioContextRef.current) {
//       audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();
//     }
    
//     const oscillator = audioContextRef.current.createOscillator();
//     const gainNode = audioContextRef.current.createGain();
    
//     oscillator.connect(gainNode);
//     gainNode.connect(audioContextRef.current.destination);
    
//     oscillator.frequency.setValueAtTime(150, audioContextRef.current.currentTime);
//     oscillator.frequency.exponentialRampToValueAtTime(40, audioContextRef.current.currentTime + 0.4);
    
//     gainNode.gain.setValueAtTime(0.2, audioContextRef.current.currentTime);
//     gainNode.gain.exponentialRampToValueAtTime(0.01, audioContextRef.current.currentTime + 0.4);
    
//     oscillator.start();
//     oscillator.stop(audioContextRef.current.currentTime + 0.4);
//   };

//   const speakMessage = (text) => {
//     if ('speechSynthesis' in window) {
//       window.speechSynthesis.cancel();
      
//       const utterance = new SpeechSynthesisUtterance(text);
//       utterance.rate = 0.9;
//       utterance.pitch = 1.2;
//       utterance.volume = 1;
      
//       const voices = window.speechSynthesis.getVoices();
//       const femaleVoice = voices.find(voice => 
//         voice.name.includes('Female') || 
//         voice.name.includes('Google UK English Female')
//       );
      
//       if (femaleVoice) {
//         utterance.voice = femaleVoice;
//       }
      
//       window.speechSynthesis.speak(utterance);
//     }
//   };

//   const speakMessageWithEffects = (text) => {
//     if ('speechSynthesis' in window) {
//       window.speechSynthesis.cancel();
      
//       const utterance = new SpeechSynthesisUtterance(text);
//       utterance.rate = 0.9;
//       utterance.pitch = 1.3;
//       utterance.volume = 1;
      
//       const voices = window.speechSynthesis.getVoices();
//       const femaleVoice = voices.find(voice => 
//         voice.name.includes('Female') || 
//         voice.name.includes('Samantha')
//       );
      
//       if (femaleVoice) {
//         utterance.voice = femaleVoice;
//       }
      
//       utterance.onstart = () => {
//         createSparkles(30);
//       };
      
//       window.speechSynthesis.speak(utterance);
//     }
//   };

//   const startVoiceRecognition = () => {
//     if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
//       const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
//       const recognition = new SpeechRecognition();
//       recognitionRef.current = recognition;
      
//       recognition.continuous = true;
//       recognition.interimResults = false;
//       recognition.lang = 'en-US';
      
//       recognition.onstart = () => {
//         setVoiceActive(true);
//         createSparkles(20);
//       };
      
//       recognition.onresult = (event) => {
//         const transcript = event.results[event.results.length - 1][0].transcript.toLowerCase();
        
//         if (transcript.includes('blow') || transcript.includes('blow candle')) {
//           handleCandleBlow();
//         } else if (transcript.includes('happy birthday') || transcript.includes('celebrate')) {
//           handleCandleBlow();
//         } else if (transcript.includes('music') || transcript.includes('play')) {
//           toggleMusic();
//         } else if (transcript.includes('dance') || transcript.includes('party')) {
//           celebrateWithMusic();
//         }
//       };
      
//       recognition.onerror = () => {
//         // Silent error handling
//       };
      
//       recognition.onend = () => {
//         if (voiceActive) {
//           setTimeout(() => recognition.start(), 1000);
//         }
//       };
      
//       recognition.start();
//     }
//   };

//   const createFloatingText = (text) => {
//     const floatingText = document.createElement('div');
//     floatingText.className = 'floating-wish';
//     floatingText.textContent = text;
//     floatingText.style.left = `${Math.random() * 70 + 15}%`;
//     floatingText.style.fontSize = `${Math.random() * 25 + 25}px`;
//     floatingText.style.color = `hsl(${Math.random() * 60 + 300}, 100%, 65%)`;
    
//     document.querySelector('.hero-container').appendChild(floatingText);
    
//     setTimeout(() => {
//       if (floatingText.parentNode) {
//         floatingText.parentNode.removeChild(floatingText);
//       }
//     }, 3000);
//   };

//   const toggleMusic = () => {
//     if (musicPlaying) {
//       stopMusic();
//       setMusicPlaying(false);
//     } else {
//       playBirthday();
//       setMusicPlaying(true);
//       createSparkles(30);
//     }
//   };

//   const generateAICard = () => {
//     createSparkles(100);
//     setCakeAnimation('magic');
    
//     // Show message instead of actual download
//     setShowMessage("‚ú® Birthday card created with magical wishes! üíå");
//     speakMessageWithEffects(`A beautiful digital birthday card has been created for you, ${userName}!`);
    
//     setTimeout(() => {
//       setCakeAnimation('glow');
//     }, 2000);
//   };

//   const celebrateWithMusic = () => {
//     if (!musicPlaying) {
//       playBirthday();
//       setMusicPlaying(true);
//     }
    
//     createSparkles(200);
//     setIsDancing(true);
//     setCakeAnimation('dance');
    
//     // Create floating hearts
//     const hearts = ['üíñ', 'üíï', 'üíó', 'üíì', 'üíû'];
//     hearts.forEach((heart, i) => {
//       setTimeout(() => {
//         createFloatingText(heart);
//       }, i * 300);
//     });
    
//     // Create visualizer bars
//     const visualizer = document.createElement('div');
//     visualizer.className = 'music-visualizer';
//     visualizer.innerHTML = Array(20).fill(0).map(() => 
//       `<div class="visualizer-bar" style="animation-delay: ${Math.random() * 0.5}s"></div>`
//     ).join('');
    
//     const container = document.querySelector('.hero-container');
//     if (container) {
//       container.appendChild(visualizer);
//     }
    
//     // Stop after 8 seconds
//     setTimeout(() => {
//       setIsDancing(false);
//       setCakeAnimation('glow');
//       if (visualizer.parentNode) {
//         visualizer.parentNode.removeChild(visualizer);
//       }
//     }, 8000);
//   };

//   const resetCandles = () => {
//     setCandlesBlown(0);
//     setShowConfetti(false);
//     setPrediction('');
//     setCakeAnimation('idle');
//     createSparkles(50);
//   };

//   const toggleCake = () => {
//     setCakeVisible(!cakeVisible);
//     createSparkles(30);
//   };

//   return (
//     <div className="hero-container">
//       {/* Animated Stars Background */}
//       {stars.map(star => (
//         <div 
//           key={star.id}
//           className="star"
//           style={{
//             left: `${star.x}%`,
//             top: `${star.y}%`,
//             width: `${star.size}px`,
//             height: `${star.size}px`,
//             opacity: star.opacity,
//             animation: `twinkle ${star.twinkleSpeed}s infinite alternate`
//           }}
//         />
//       ))}
      
//       {/* Sparkles */}
//       {sparkles.map(sparkle => (
//         <div 
//           key={sparkle.id}
//           className="sparkle"
//           style={{
//             left: `${sparkle.x}%`,
//             top: `${sparkle.y}%`,
//             width: `${sparkle.size}px`,
//             height: `${sparkle.size}px`,
//             animation: `sparkleAnim ${sparkle.duration}s ease-out`,
//             background: sparkle.color
//           }}
//         />
//       ))}
      
//       {/* Floating Emojis */}
//       {floatingEmojis.map((emoji, index) => (
//         <div 
//           key={index}
//           className="floating-emoji"
//           style={{
//             left: `${Math.random() * 100}%`,
//             animationDelay: `${index * 0.3}s`,
//             fontSize: `${Math.random() * 25 + 25}px`,
//             color: `hsl(${Math.random() * 60 + 300}, 100%, 70%)`
//           }}
//         >
//           {emoji}
//         </div>
//       ))}
      
//       {showConfetti && (
//         <Confetti 
//           width={window.innerWidth} 
//           height={window.innerHeight}
//           numberOfPieces={200}
//           gravity={0.08}
//           colors={['#FF69B4', '#FFB6C1', '#FFD700', '#FFFFFF', '#FF1493']}
//         />
//       )}
      
//       {/* Control Buttons */}
//       <div className="ai-controls">
//         <button className="ai-btn magic-btn" onClick={toggleMusic}>
//           <span className="btn-icon">{musicPlaying ? 'üîá' : 'üéµ'}</span>
//           <span className="btn-text">{musicPlaying ? 'Pause Music' : 'Play Music'}</span>
//         </button>
//         <button className="ai-btn card-btn" onClick={generateAICard}>
//           <span className="btn-icon">üíå</span>
//           <span className="btn-text">Magic Card</span>
//         </button>
//         <button className="ai-btn music-btn" onClick={celebrateWithMusic}>
//           <span className="btn-icon">üíÉ</span>
//           <span className="btn-text">Dance Party</span>
//         </button>
//         <button className="ai-btn reset-btn" onClick={resetCandles}>
//           <span className="btn-icon">üîÑ</span>
//           <span className="btn-text">Reset Candles</span>
//         </button>
//       </div>
      
//       <div className="voice-indicator">
//         {voiceActive && (
//           <div className="voice-pulse">
//             <span className="pulse-dot">üé§</span>
//             <span>Say "Blow" to blow candles!</span>
//             <span className="pulse-dot">‚ú®</span>
//           </div>
//         )}
//       </div>
      
//       {/* Animated Cake Container */}
//       {cakeVisible && (
//         <div className={`cake-container ${cakeAnimation}`}>
//           <div className="cake-glow"></div>
//           <div className="candles">
//             <Candle left="40%" onBlow={handleCandleBlow} />
//             <Candle left="50%" onBlow={handleCandleBlow} />
//             <Candle left="60%" onBlow={handleCandleBlow} />
//           </div>
          
//           {/* Cake SVG */}
//           <div className="cake-image-container">
//             <div className="cake-image"></div>
//             <div className="cake-shadow"></div>
//           </div>
//         </div>
//       )}
      
//       {/* Cake Toggle Button */}
//       <button className="cake-toggle-btn" onClick={toggleCake}>
//         {cakeVisible ? 'üéÇ Hide Cake' : 'üéÇ Show Cake'}
//       </button>
      
//       {/* Animated Messages */}
//       <div className="text-container">
//         {wishAnimation && (
//           <div className="welcome-message">
//             <h2>Welcome, {userName}! üå∏</h2>
//             <p>Blow all 3 candles for a magical surprise! üíñ</p>
//           </div>
//         )}
        
//         <h1 className={`main-title ${cakeAnimation}`}>
//           <span className="title-char">H</span>
//           <span className="title-char">A</span>
//           <span className="title-char">P</span>
//           <span className="title-char">P</span>
//           <span className="title-char">Y</span>
//           <span className="title-space"></span>
//           <span className="title-char">B</span>
//           <span className="title-char">I</span>
//           <span className="title-char">R</span>
//           <span className="title-char">T</span>
//           <span className="title-char">H</span>
//           <span className="title-char">D</span>
//           <span className="title-char">A</span>
//           <span className="title-char">Y</span>
//           <span className="title-char">!</span>
//         </h1>
        
//         {showMessage && (
//           <div className="wish-message">
//             {showMessage}
//           </div>
//         )}
        
//         {prediction && (
//           <div className="prediction">
//             <div className="prediction-icon">üí´</div>
//             <div className="prediction-text">{prediction}</div>
//           </div>
//         )}
        
//         <div className="candle-counter">
//           <div className="counter-glow"></div>
//           <span className="counter-text">üïØÔ∏è {candlesBlown}/3 Candles Blown</span>
//           {candlesBlown === 3 && (
//             <span className="counter-celebrate">üéâ WISH GRANTED! üíñ</span>
//           )}
//         </div>
//       </div>
      
//       <div className="instructions">
//         <p>üíñ Click candles to blow them</p>
//         <p>‚ú® Say "blow" to use voice control</p>
//         <p>üéµ Use buttons for more magic!</p>
//       </div>
      
//       {/* Dancing Hearts */}
//       {isDancing && (
//         <div className="dancing-hearts">
//           {Array(20).fill(0).map((_, i) => (
//             <div 
//               key={i}
//               className="dancing-heart"
//               style={{
//                 left: `${Math.random() * 100}%`,
//                 animationDelay: `${i * 0.2}s`,
//                 fontSize: `${Math.random() * 30 + 20}px`
//               }}
//             >
//               {['üíñ', 'üíï', 'üíó', 'üíì'][Math.floor(Math.random() * 4)]}
//             </div>
//           ))}
//         </div>
//       )}
//     </div>
//   );
// };

// export default Hero;










// import React, { useEffect, useState, useRef } from 'react';
// import './Hero.css';
// import Candle from './Candle';
// import Confetti from 'react-confetti';
// import useSound from 'use-sound';
// import birthdaySong from '../assets/sound/birthday-song.mp3';

// const Hero = () => {
//   const [blownCandles, setBlownCandles] = useState([false, false, false]);
//   const [showConfetti, setShowConfetti] = useState(false);
//   const [userName, setUserName] = useState('');
//   const [play, { stop }] = useSound(birthdaySong, { volume: 0.7 });

//   useEffect(() => {
//     const name = prompt("üå∏ Enter your beautiful name, Birthday Girl:") || "Princess";
//     setUserName(name);
//   }, []);

//   const handleBlow = (index) => {
//     if (blownCandles[index]) return;

//     const newStatus = [...blownCandles];
//     newStatus[index] = true;
//     setBlownCandles(newStatus);

//     const totalBlown = newStatus.filter(c => c).length;

//     if (totalBlown === 3) {
//       setShowConfetti(true);
//       play(); // Song starts exactly when last candle is blown
//     }
//   };

//   return (
//     <div className="hero-container">
//       {showConfetti && <Confetti numberOfPieces={300} recycle={false} />}
      
//       <div className="glass-card">
//         <h1 className="bday-text">Happy Birthday, {userName}! ‚ú®</h1>
        
//         <div className="cake-stage">
//           {/* Candle Placement */}
//           <div className="candle-row">
//             <Candle isBlown={blownCandles[0]} onBlow={() => handleBlow(0)} />
//             <Candle isBlown={blownCandles[1]} onBlow={() => handleBlow(1)} />
//             <Candle isBlown={blownCandles[2]} onBlow={() => handleBlow(2)} />
//           </div>

//           {/* Visual Cake */}
//           <div className="cake-body">
//             <div className="icing"></div>
//             <div className="cake-layer"></div>
//             <div className="cake-bottom"></div>
//           </div>
//         </div>

//         <p className="instruction-text">
//           {showConfetti ? "Make a wish! üíñ" : "Blow all the candles to start the magic..."}
//         </p>
//       </div>
//     </div>
//   );
// };

// export default Hero;











// import React, { useState, useEffect, useRef } from 'react';
// import Confetti from 'react-confetti';
// import birthdaySong from '../assets/sound/birthday-song.mp3';
// import './Hero.css';

// const Hero = () => {
//   const [candlesBlown, setCandlesBlown] = useState([false, false, false]);
//   const [showCelebration, setShowCelebration] = useState(false);
//   const [userName, setUserName] = useState('');
//   const audioRef = useRef(null);

//   useEffect(() => {
//     const name = prompt("üå∏ Enter Princess Name:") || "Beautiful";
//     setUserName(name);
//   }, []);

//   const blowCandle = (index) => {
//     if (candlesBlown[index]) return;
    
//     const updated = [...candlesBlown];
//     updated[index] = true;
//     setCandlesBlown(updated);

//     // Agar saari candles bujh gayi
//     if (updated.every(c => c === true)) {
//       setShowCelebration(true);
//       if (audioRef.current) {
//         audioRef.current.play().catch(e => console.log("Audio play failed:", e));
//       }
//     }
//   };

//   return (
//     <div className="birthday-wrapper">
//       {showCelebration && <Confetti />}
      
//       {/* Background Sound */}
//       <audio ref={audioRef} loop>
//         <source src={birthdaySong} type="audio/mp3" />
//         {/* Replace above URL with your local ../assets/sound/birthday-song.mp3 */}
//       </audio>

//       <div className="content-box">
//         <h1 className="main-title">Happy Birthday, <br/><span>{userName}! üíñ üéÇ üå∏</span></h1>

//         <div className="cake-section">
//           <div className="candle-container">
//             {candlesBlown.map((isBlown, i) => (
//               <div key={i} className={`candle ${isBlown ? 'out' : ''}`} onClick={() => blowCandle(i)}>
//                 {!isBlown && <div className="flame"></div>}
//                 <div className="stick"></div>
//               </div>
//             ))}
//           </div>
          
//           <div className="cake">
//             <div className="icing"></div>
//             <div className="layer-top"></div>
//             <div className="layer-bottom"></div>
//           </div>
//         </div>

//         {showCelebration ? (
//           <div className="wish-box">
//             <h2>You are amazing! ‚ú®</h2>
//             <p>May all your dreams come true today and always. üåπ</p>
//           </div>
//         ) : (
//           <p className="hint">Touch all the candle flames to blow them! üïØÔ∏è</p>
//         )}
//       </div>
//     </div>
//   );
// };

// export default Hero;



import React, { useState, useRef, useEffect } from 'react';
import Confetti from 'react-confetti';
import birthdaySong from '../assets/sound/birthday-song.mp3';
import './Hero.css';

const Hero = () => {
  const [candlesBlown, setCandlesBlown] = useState([false, false, false]);
  const [showCelebration, setShowCelebration] = useState(false);
  const [userName, setUserName] = useState('');
  const [nameEntered, setNameEntered] = useState(false);
  const audioRef = useRef(null);

  const handleNameSubmit = () => {
    if (userName.trim() !== '') setNameEntered(true);
  };

//   useEffect(() => {
//   window.speechSynthesis.onvoiceschanged = () => {
//     window.speechSynthesis.getVoices();
//   };
// }, []);

useEffect(() => {
  const loadVoices = () => {
    window.speechSynthesis.getVoices();
  };

  loadVoices();
  window.speechSynthesis.onvoiceschanged = loadVoices;
}, []);


//   const speakBirthdayWish = (name) => {
//   const message = new SpeechSynthesisUtterance(`Happy Birthday ${name}`);
  
//   message.lang = 'en-US';
//   message.pitch = 1.3;   // thoda cute tone
//   message.rate = 0.9;    // slow romantic speed

//   // Female voice select karne ki koshish
//   const voices = window.speechSynthesis.getVoices();
//   const femaleVoice = voices.find(voice =>
//     voice.name.toLowerCase().includes('female') ||
//     voice.name.toLowerCase().includes('zira') ||   // Windows female voice
//     voice.name.toLowerCase().includes('samantha')  // Mac female voice
//   );

//   if (femaleVoice) message.voice = femaleVoice;

//   window.speechSynthesis.speak(message);
// };


const speakBirthdayWish = (name) => {
  window.speechSynthesis.cancel(); // stop any previous speech

  const message = new SpeechSynthesisUtterance(
    `Happy Birthday ${name}. Wishing you lots of love and happiness.`
  );

  message.lang = 'en-US';
  message.pitch = 1.25;  // softer cute tone
  message.rate = 0.88;   // romantic slow speed
  message.volume = 1;

  const voice = getBestFemaleVoice();
  if (voice) message.voice = voice;

  window.speechSynthesis.speak(message);
};



const getBestFemaleVoice = () => {
  const voices = window.speechSynthesis.getVoices();

  if (!voices.length) return null;

  // Priority list of natural female voices (varies by device)
  const preferredNames = [
    "Samantha",     // macOS
    "Victoria",     // macOS
    "Google UK English Female",
    "Google US English",
    "Microsoft Zira", 
    "Microsoft Jenny",
    "Microsoft Aria"
  ];

  // Try exact preferred match
  for (let name of preferredNames) {
    const match = voices.find(v => v.name.includes(name));
    if (match) return match;
  }

  // Otherwise fallback to any English female-sounding voice
  return voices.find(v =>
    v.lang.startsWith('en') &&
    (v.name.toLowerCase().includes('female') ||
     v.name.toLowerCase().includes('zira') ||
     v.name.toLowerCase().includes('samantha'))
  ) || voices[0];
};



  const blowCandle = (index) => {
    if (candlesBlown[index]) return;

    const updated = [...candlesBlown];
    updated[index] = true;
    setCandlesBlown(updated);

    // if (updated.every(c => c)) {
    //   setShowCelebration(true);
    //   audioRef.current?.play().catch(() => {});
    // }

    if (updated.every(c => c)) {
  setShowCelebration(true);
  audioRef.current?.play().catch(() => {});

  // üé§ AI Voice Wish
  setTimeout(() => {
    speakBirthdayWish(userName);
  }, 800); // thoda delay so it feels dramatic
}
  };

  return (
    <div className="birthday-wrapper">
      {showCelebration && <Confetti numberOfPieces={400} />}

      <audio ref={audioRef} loop>
        <source src={birthdaySong} type="audio/mp3" />
      </audio>

      {!nameEntered ? (
        <div className="name-card">
          <h2>Enter Name üëë</h2>
          <input
            type="text"
            placeholder="Her beautiful name..."
            value={userName}
            onChange={(e) => setUserName(e.target.value)}
          />
          <button onClick={handleNameSubmit}>Start Surprise üíñ</button>
        </div>
      ) : (
        <div className="content-box">
          <h1 className="main-title">
            Happy Birthday <br />
            <span>{userName} üéâ üéÇ üíê</span>
          </h1>

          <div className="cake-section">
            <div className="candle-container">
              {candlesBlown.map((isBlown, i) => (
                <div
                  key={i}
                  className={`candle ${isBlown ? 'out' : ''}`}
                  onClick={() => blowCandle(i)}
                >
                  {!isBlown && <div className="flame"></div>}
                  <div className="stick"></div>
                </div>
              ))}
            </div>

            <div className="cake">
              <div className="icing"></div>
              <div className="layer-top"></div>
              <div className="layer-bottom"></div>
            </div>
          </div>

          {showCelebration ? (
            <div className="wish-box">
              <h2>You deserve endless happiness, giggles, and sweet surprises üéÄ‚ú®</h2>
              <p>
                May your smile shine brighter than candles and your life be
                filled with love, joy, and endless happiness üíï
              </p>
            </div>
          ) : (
            <p className="hint">Tap all the candles to make a wish üïØÔ∏è</p>
          )}
        </div>
      )}

      {/* Floating Hearts */}
      <div className="hearts">
        <span>üíñ</span>
        <span>üíó</span>
        <span>üíì</span>
        <span>üíû</span>
      </div>
    </div>
  );
};

export default Hero;
